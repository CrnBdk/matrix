!function(e){"use strict";function t(t,i){var a=e(t),s=e.extend(!0,{},e.fn[d].defaults,i),l="."+s.classes.target,r="."+s.classes.add,f="."+s.classes["delete"],u={duration:s.animation.duration,easing:s.animation.easing};s.hide&&a.find(l).hide().find(n).prop("disabled",!0),a.on("click",r,function(){var t=a.find(l).last(),d=e.Event("addel:add",{target:t});if(a.trigger(d),!d.isDefaultPrevented()){0===t.filter(":visible").length?t.fadeIn(u).find(n).prop("disabled",!1):t.clone().insertAfter(t).hide().fadeIn(u).find(n).val(null);var i=a.find(l).last();i.find(":input:enabled:visible:first").focus(),a.trigger(e.Event("addel:added",{target:t,added:i}))}}),a.on("click",f,function(){var t=e(this).closest(l),d=t.prev(l),i=t.next(l),s=e.Event("addel:delete",{target:t});return a.trigger(s),s.isDefaultPrevented()?!1:(1===a.find(l).length?(t.fadeOut(u).find(n).prop("disabled",!0),a.find(r).focus()):(t.fadeOut(u.duration,u.easing,function(){e(this).remove()}),1===d.length?d.find(f).focus():i.find(f).focus()),void a.trigger(e.Event("addel:deleted",{target:t})))})}var d="addel",n="input, select, textarea";e.fn[d]=function(n){return this.each(function(){e.data(this,"plugin_"+d)||e.data(this,"plugin_"+d,new t(this,n))})},e.fn[d].defaults={hide:!1,classes:{target:"addel-target",add:"addel-add","delete":"addel-delete"},animation:{duration:0,easing:"swing"}}}(jQuery);